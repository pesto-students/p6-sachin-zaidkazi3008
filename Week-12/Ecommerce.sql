-- creating a database:

create database ecommerce;

-- To use this database :
 use ecommerce;

-- Creating tables in ecommerce

--  Table 1:-	CITIES

CREATE TABLE CITIES (
	CID INTEGER NOT NULL,
	CITY CHAR(20),
    STATE CHAR(20),
    PRIMARY KEY (CID)
);	
-- SELECT * FROM CITIES;

-- Table 2:-	WAREHOUSES
  
CREATE TABLE WAREHOUSES (
	WID INTEGER NOT NULL,
    CITY_ID INTEGER NOT NULL,
	WNAME CHAR(20),
    LOCATION CHAR(20),
    PRIMARY KEY (WID),
    FOREIGN KEY (CITY_ID) REFERENCES CITIES(CID)
);
  
-- Table 3:-	STORES
  
CREATE TABLE STORES (
	SID INTEGER NOT NULL,
    WID INTEGER NOT NULL,
	STORE_NAME CHAR(20),
    LOCATION_CITY CHAR(20),    
    PRIMARY KEY (SID),
    FOREIGN KEY (WID) REFERENCES WAREHOUSES(WID)
);

-- Table 4:-	CUSTOMER

CREATE TABLE CUSTOMER (
	CNO INTEGER NOT NULL,
	CNAME CHAR(50),
    ADDR VARCHAR(50),
    CU_CITY CHAR(20),
    PRIMARY KEY (CNO)
);

-- Table 5:-	ORDERS

CREATE TABLE ORDERS (
	ONO INTEGER NOT NULL,
    CNO INTEGER NOT NULL,
	ODATE DATE,
    PRIMARY KEY (ONO),
    FOREIGN KEY (CNO) REFERENCES CUSTOMER(CNO)
);

  -- Table 6:-	ITEMS

CREATE TABLE ITEMS (
	ITEMNO INTEGER NOT NULL,
	DES TEXT,
    WEIGHT DECIMAL(5,2),
    COST DECIMAL(5,2),
    PRIMARY KEY (ITEMNO)
);

-- Table 7:-  QUANTITY

CREATE TABLE QUANTITY (
	ID INTEGER NOT NULL AUTO_INCREMENT,
    SID INTEGER NOT NULL,
    ITEMNO INTEGER NOT NULL,
    PRIMARY KEY (ID),
    FOREIGN KEY (SID) REFERENCES STORES(SID),
    FOREIGN KEY (ITEMNO) REFERENCES ITEMS(ITEMNO)
);
-- Table 8:-  ORDERED_QUANTITY

CREATE TABLE ORDERED_QUANTITY (
	ID INTEGER NOT NULL AUTO_INCREMENT,
    ONO INTEGER NOT NULL,
    ITEMNO INTEGER NOT NULL,
	PRIMARY KEY (ID),
    FOREIGN KEY (ONO) REFERENCES ORDERS(ONO),
    FOREIGN KEY (ITEMNO) REFERENCES ITEMS(ITEMNO)
);

-- DATA ENTRIES IN CITIES TABLE:

 SET SQL_SAFE_UPDATES = 0;

INSERT INTO CITIES VALUES(00001,'Delhi','Delhi');
INSERT INTO CITIES VALUES(00002,'Mumbai','Maharastra');
INSERT INTO CITIES VALUES(00003,'Kolkata','West Bengal');
INSERT INTO CITIES VALUES(00004,'Chennai','Tamil Nadu');
INSERT INTO CITIES VALUES(00005,'Pune','Maharastra');

-- select * from CITIES;

-- DATA ENTRIES IN CUSTOMER TABLE:

INSERT INTO CUSTOMER VALUES(00001,'AMAN','SOUTH BOPAL NEAR SG-HIGHWAY','AHMEDABAD');
INSERT INTO CUSTOMER VALUES(00002,'BINNAL','NEAR CP ','DELHI');
INSERT INTO CUSTOMER VALUES(00003,'BIJOY','NEW TOWN','KOLKATA');
INSERT INTO CUSTOMER VALUES(00004,'MANOJ','BANDRA','MUMBAI');
INSERT INTO CUSTOMER VALUES(00005,'KAMAL',' NEAR RINGROAD','CHENNAI');

-- SELECT * FROM CUSTOMER;

-- DATA ENTRIES IN WAREHOUSES TABLE:

INSERT INTO WAREHOUSES VALUES(00010, 1, 'LOCAL-STORE', 'AHMEDABAD');
INSERT INTO WAREHOUSES VALUES(00011, 2, 'LOCAL-STORE', 'DELHI');
INSERT INTO WAREHOUSES VALUES(00012, 3, 'HUGE-STORE', 'KOLKATA');
INSERT INTO WAREHOUSES VALUES(00013, 4, 'STORE', 'MUMBAI');
INSERT INTO WAREHOUSES VALUES(00014, 5, 'STORAGE', 'CHENNAI');

-- SELECT * FROM WAREHOUSES;

-- data entry in STORES table

-- SELECT * FROM STORES;

INSERT INTO STORES VALUES (101,10,'STORE-A','MUMBAI');
INSERT INTO STORES VALUES (102,11,'STORE-T','KOLKATA');
INSERT INTO STORES VALUES (103,12,'STORE-H','DELHI');
INSERT INTO STORES VALUES (104,13,'STORE-AI','CHENNAI');
INSERT INTO STORES VALUES (105,14,'STORE-AD','AHMEDABAD');

DATA ENTRIES IN ORDERS TABLE :

select * FROM ORDERS;

INSERT INTO ORDERS VALUES(10001,3,'2023-12-31');
INSERT INTO ORDERS VALUES(10002,5,'2020-11-1');
INSERT INTO ORDERS VALUES(10003,2,'2020-9-5');
INSERT INTO ORDERS VALUES(10004,1,'2023-8-19');
INSERT INTO ORDERS VALUES(10005,1,'2022-6-16');
INSERT INTO ORDERS VALUES(10006,3,'2022-9-3');
INSERT INTO ORDERS VALUES(10007,2,'2023-1-3');

data entry in ITEMS table

INSERT INTO ITEMS VALUES(111,'FAN',10.02,200.00);
INSERT INTO ITEMS VALUES(112,'TOY',15.89,50.45);
INSERT INTO ITEMS VALUES(113,'MOBILE',108.90,400.0);
INSERT INTO ITEMS VALUES(114,'FAN',10.02,200.00);
INSERT INTO ITEMS VALUES(115,'TOY',15.89,50.45);
INSERT INTO ITEMS VALUES(116,'MOBILE',108.90,400.00);
INSERT INTO ITEMS VALUES(117,'TOY',15.89,50.45);

SELECT * FROM ITEMS;

data entry in QUANTITY table

INSERT INTO QUANTITY VALUES(10001,0101,111);
INSERT INTO QUANTITY VALUES(10002,0102,112);
INSERT INTO QUANTITY VALUES(10003,0103,117);
INSERT INTO QUANTITY VALUES(10004,0104,115);
INSERT INTO QUANTITY VALUES(10005,0105,116);


select * from QUANTITY;


-- data entry in ORDERED_QUANTITY table

INSERT INTO ORDERED_QUANTITY VALUES(11101,10001,111);
INSERT INTO ORDERED_QUANTITY VALUES(11102,10002,112);
INSERT INTO ORDERED_QUANTITY VALUES(11103,10003,113);
INSERT INTO ORDERED_QUANTITY VALUES(11104,10004,117);
INSERT INTO ORDERED_QUANTITY VALUES(11105,10005,116);
INSERT INTO ORDERED_QUANTITY VALUES(11106,10006,115);
INSERT INTO ORDERED_QUANTITY VALUES(11107,10007,114);

SELECT * FROM ORDERED_QUANTITY;
